<nav #sidebar
  class="bg-sidebar-light dark:bg-sidebar-dark transition-all fixed top-0 left-0 h-full py-[10px] px-[14px] z-[100] items-center shadow"
  [ngClass]="{
  'w-[250px]': !configS.sidebar.collapsed,
  'w-[75px]': configS.sidebar.collapsed,
}">
  <header class="relative">
    <div class="flex items-center" [ngClass]="{
      'gap-2 px-2': !configS.sidebar.collapsed,
      'gap-0': configS.sidebar.collapsed,
    }">
      <span class="flex items-center justify-center min-w-[47px] rounded-md">
        <img class="w-[47px] h-[47px] rounded-md" [src]="configS.sidebar.imgSrc" alt="logo">
      </span>
      <div class="flex flex-col items-start text-[17px] font-normal whitespace-nowrap transition-all" [ngClass]="{
      'block': !configS.sidebar.collapsed,
      'hidden': configS.sidebar.collapsed
      }" *ngIf="configS.sidebar.userInfo.visible">
        <span
          class="text-typography-default dark:text-typography-dark transition-all mt-[2px] text-[13px] font-semibold">{{configS.sidebar.userInfo.username}}</span>
        <span
          class="text-typography-default dark:text-typography-dark transition-all text-[12px] -mt-[2px] font-light block">{{configS.sidebar.userInfo.role}}</span>
      </div>
    </div>
    <i-tabler name="chevron-right"
      class='bg-primary-dark hover:bg-primary-light text-white dark:bg-primary-dark dark:hover:bg-primary-light hover:scale-125 transition-all absolute -right-[25px] h-[25px] w-[25px] rounded-[50%] flex items-center justify-center text-[22px] cursor-pointer'
      (click)="onToggleSidebar()" [ngClass]="{
      'rotate-180': !configS.sidebar.collapsed,
      'rotate-0': configS.sidebar.collapsed
    }"></i-tabler>
  </header>
  <div class="menu-bar h-[calc(100%-55px)] flex flex-col justify-between overflow-y-scroll">
    <div class="mt-5">
      <ul>
        @for (link of configS.sidebar.links; track $index) {
        <app-sidebar-item [link]="link"></app-sidebar-item>
        }
      </ul>
    </div>
    <div>
      <li class="h-[45px] list-none flex items-center mt-[5px] group">
        <a routerLink="/auth/login"
          class="list-none bg-transparent group-hover:bg-primary-light transition-all flex items-center justify-start h-full w-full rounded-md no-underline"
          [ngClass]="{
            'gap-[10px] pl-[15px]': !configS.sidebar.collapsed,
            'gap-0 pl-[10px]': configS.sidebar.collapsed,
          }">
          <i-tabler name="logout" class='text-typography-default dark:text-typography-light group-hover:text-typography-light transition-all min-w-[25px] font-light
            rounded-md h-full flex items-center justify-center text-[25px]' [ngClass]="{
            'group-hover:translate-x-1': !configS.sidebar.collapsed,
            'group-hover:translate-x-0': configS.sidebar.collapsed
            }"></i-tabler>
          <span
            class="text-typography-default dark:text-typography-light group-hover:text-typography-light transition-all text-[17px] font-light whitespace-nowrap"
            [ngClass]="{
            'block group-hover:translate-x-1': !configS.sidebar.collapsed,
            'hidden group-hover:translate-x-0': configS.sidebar.collapsed
            }">Logout</span>
        </a>
      </li>

      <li (click)="onToggleSwitch()" class="flex items-center rounded-md transition-all w-full h-[45px] list-none mt-[5px] cursor-pointer
        bg-transparent hover:bg-gray-700 dark:hover:bg-gray-500 hover:text-white group" [ngClass]="{
          'gap-[10px] pl-[15px]': !configS.sidebar.collapsed,
          'gap-0 pl-[10px]': configS.sidebar.collapsed,
        }">
        @if (!configS.sidebar.darkMode) {
        <i-tabler name="moon" class='min-w-[25px] text-typography-default group-hover:text-typography-light' [ngClass]="{
          'group-hover:translate-x-1': !configS.sidebar.collapsed,
          'group-hover:translate-x-0': configS.sidebar.collapsed
          }"></i-tabler>
        } @else {
        <i-tabler name="sun" class='min-w-[25px] text-typography-default dark:text-yellow-400' [ngClass]="{
            'group-hover:translate-x-1': !configS.sidebar.collapsed,
            'group-hover:translate-x-0': configS.sidebar.collapsed
            }"></i-tabler>
        }
        <span
          class="text-typography-default dark:text-typography-light group-hover:text-typography-light font-light transition-all"
          [ngClass]="{
          'block group-hover:translate-x-1': !configS.sidebar.collapsed,
          'hidden group-hover:translate-x-0': configS.sidebar.collapsed
        }">{{modeText}}</span>
      </li>
    </div>
  </div>
</nav>
